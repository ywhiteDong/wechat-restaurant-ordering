<view class="order-container">
  <view wx:if="{{orders.length === 0}}" class="empty">
    <image src="/images/empty.png" class="empty-image"/>
    <text class="empty-text">暂无订单</text>
    <button class="go-menu-btn" bindtap="goToMenu">去点餐</button>
  </view>

  <view wx:else class="order-list">
    <view class="order-card" wx:for="{{orders}}" wx:key="id">
      <view class="order-header">
        <view class="order-no">订单号：{{item.orderNo}}</view>
        <view class="order-status">{{item.status}}</view>
      </view>
      
      <view class="order-info">
        <view class="info-item">
          <text class="label">用餐方式：</text>
          <text>{{item.diningType === 'dine-in' ? '堂食' : '打包'}}</text>
          <text wx:if="{{item.tableNumber}}">({{item.tableNumber}}号桌)</text>
        </view>
        <view class="info-item">
          <text class="label">下单时间：</text>
          <text>{{item.createTime}}</text>
        </view>
      </view>

      <view class="order-foods">
        <view class="food-item" wx:for="{{item.items}}" wx:for-item="food" wx:key="id">
          <text class="food-name">{{food.name}}</text>
          <text class="food-count">x{{food.count}}</text>
          <text class="food-price">¥{{food.price * food.count}}</text>
        </view>
      </view>

      <view class="order-footer">
        <view class="total">
          <text>合计：</text>
          <text class="total-price">¥{{item.totalPrice}}</text>
        </view>
        <button class="reorder-btn" data-order="{{item}}" bindtap="reorder">再来一单</button>
      </view>
    </view>
  </view>
</view>